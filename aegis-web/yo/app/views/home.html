<!--
  ~ Changes to this file committed after and not including commit-id: ccc0d2c5f9a5ac661e60e6eaf138de7889928b8b
  ~ are released under the following license:
  ~
  ~ This file is part of Hopsworks
  ~ Copyright (C) 2018, Logical Clocks AB. All rights reserved
  ~
  ~ Hopsworks is free software: you can redistribute it and/or modify it under the terms of
  ~ the GNU Affero General Public License as published by the Free Software Foundation,
  ~ either version 3 of the License, or (at your option) any later version.
  ~
  ~ Hopsworks is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  ~ without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
  ~ PURPOSE.  See the GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program.
  ~ If not, see <https://www.gnu.org/licenses/>.
  ~
  ~ Changes to this file committed before and including commit-id: ccc0d2c5f9a5ac661e60e6eaf138de7889928b8b
  ~ are released under the following license:
  ~
  ~ Copyright (C) 2013 - 2018, Logical Clocks AB and RISE SICS AB. All rights reserved
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy of this
  ~ software and associated documentation files (the "Software"), to deal in the Software
  ~ without restriction, including without limitation the rights to use, copy, modify, merge,
  ~ publish, distribute, sublicense, and/or sell copies of the Software, and to permit
  ~ persons to whom the Software is furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in all copies or
  ~ substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS  OR IMPLIED, INCLUDING
  ~ BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  ~ NONINFRINGEMENT. IN NO EVENT SHALL  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  ~ DAMAGES OR  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  -->

<div ng-controller="MainCtrl as mainCtrl">
  <div ng-include="'nav.html'"></div>
  <div ng-if="mainCtrl.showSearchPage" class="row">
    <div id="projectSearchResults">
      <div ng-include="'views/search.html'"></div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span3">
        <ul class="nav nav-list wiki-ToC">
    <li class="sidebar-header-1"><a href="#a.-quick-introduction-to-the-aegis-tools">A. Quick Introduction to the AEGIS tools</a></li>
    <li class="sidebar-header-1"><a href="#b.-getting-started-workflow">B. Getting started workflow</a></li>
    <li class="sidebar-header-2"><a href="#part-1---first-visit-step-by-step">Part 1 - First visit step by step</a></li>
    <li class="sidebar-header-2"><a href="#part-2---advanced-options">Part 2 - Advanced options</a></li>
        </ul>
      </div>
      <div class="span9 wiki-main"><h1 id="a.-quick-introduction-to-the-aegis-tools"><a class="header-link" href="#a.-quick-introduction-to-the-aegis-tools"></a>A. Quick Introduction to the AEGIS tools</h1>
        <p>AEGIS offers various tools to address the diverse needs of its users:</p>
        <ul class="list">
        <li><p>AEGIS Integrated Services</p>
        <p>The AEGIS platform provides multi-tenant data management and processing services for Big Data, allowing different users and services to securely and privately access and process their data and share them with other users, allowing access for specific services. In order to do that, AEGIS builds upon <a href="https://github.com/aegisbigdata/hopsworks/blob/aegis/README.md">Hopsworks</a>, which also enables AEGIS to provide integrated support for various services such as interactive notebooks with Zeppelin and Jupyter, Kafka, and ELK stack.</p>
        </li>
        <li><p>Query Builder</p>
        <p>Query Builder provides the capability to interactively define and execute queries on data available inside AEGIS. Query Builder aims to simplify and accelerate the process of retrieving data and creating views on them, which could be then saved as new datasets or used as input for more high-level AEGIS tools, like the Visualiser and the Algorithm Execution Container</p>
        </li>
        <li><p>Visualiser</p>
        <p>The Visualiser is the component enabling the visualisation capabilities of the AEGIS platform for the output of the querying and filtering results coming from the Query Builder as well as the output of the analysis results as produced from the Algorithm Execution Container. </p>
        </li>
        <li><p>Algorithm Execution Container</p>
        <p>This component features a UI that consists of an algorithm selection template, which offers to users some basic information regarding each algorithm available in the big data analysis platform of AEGIS and also enables the configuration and the execution of the selected algorithm.</p>
        </li>
        <li><p>The Data Harvester and Annotator</p>
        <p>The Data Harvester and Annotator features several sub-components which, in connection, represent the process of harvesting, transforming, harmonising, annotating and providing the required data and metadata for the AEGIS platform. </p>
        </li>
        </ul>
        <p>The previous tools are the ones that the users directly interact with through the core AEGIS platform. There are also some tools working &quot;under the hood&quot; to enable certain functionalities:</p>
        <ul class="list">
        <li>AEGIS Linked Data Store, which is responsible for storing the metadata associated with a particular dataset within the AEGIS platform </li>
        <li>Brokerage Engine, which includes elements of the Data Policy and the Business Brokerage framework.</li>
        </ul>
        <p>Finally, AEGIS offers two optional offline tools, specifically:</p>
        <ul class="list">
        <li>An anonymisation tool, which is an extensible, schema-agnostic plugin that allows real-time efficient data anonymisation.</li>
        <li>A cleansing tool that enables data validation, data cleansing and data completion processes towards increasing the reliability, accuracy and completeness of the data that will be imported in the AEGIS platform</li>
        </ul>
        <h1 id="b.-getting-started-workflow"><a class="header-link" href="#b.-getting-started-workflow"></a>B. Getting started workflow</h1>
        <p>Welcome to the AEGIS platform! The following lines aim to help you familiarise yourself with the platform and begin using our various tools and services. </p>
        <h2 id="part-1---first-visit-step-by-step"><a class="header-link" href="#part-1---first-visit-step-by-step"></a>Part 1 - First visit step by step</h2>
        <ol class="list">
        <li>Create a new account in the platform and wait for your activation e-mail.</li>
        <li>Welcome! You are now in the AEGIS home page, where you can browse our assets, i.e. our projects and datasets. Search around a bit to see what we have!</li>
        <li>When you have looked around enough, it&#39;s time to move on to do more interesting things and for that, you will need a project! You might have come to AEGIS through an invitation to join a project, so you may find yourself in an already populated workspace. But we&#39;ll assume that&#39;s not the case for this intro. So, go ahead and create a project by pressing the yellow button on the right</li>
        <li>You are now in the project&#39;s home page. From here you can review the last actions performed by the project users (currently only you). The menu on the left is the entrance point to the various offered tools. Please note the cluster utilisation percentage right under the menu, it shows the current work load on the cluster and it will be affected by the things you do in the platform as well. </li>
        <li>Select the &quot;Project Datsets&quot; menu option. From here you can explore the available datasets and of-course upload more data in your project. You will find six datasets already there, which are necessary parts of every project. Don&#39;t mind them for now. Go ahead and create another dataset by pressing the yellow button on the right. After that, you can upload some files in your new dataset - make sure to upload some csv files as well to use in our next steps. When the upload is over, select one of the uploaded files and notice the hdfs path that appears in the yellow box on the right. You may need this path in the future, so make sure you remember how to find it.</li>
        <li>Select the &quot;Visualiser&quot; menu option. For more information on how this tool is used and what you can do with it, you may refer to <a href="https://github.com/aegisbigdata/documentation/wiki/Visualizer">this guide</a>. For now, just try loading one of your previously uploaded csv files and then choose a simple visualisation.</li>
        <li>Select the &quot;Query Builder&quot; menu option. Let&#39;s assume that in the previous step, when using the Visualiser, you would have wanted to filter out some values prior to visualising the data. Follow the provided instructions  <a href="https://github.com/aegisbigdata/documentation/wiki/Query-Builder">here</a> to perform this simple task. The guide provides information for more advanced tasks as well and you can always try things on your own to find out exactly what you can do.  </li>
        <li>Select the &quot;Analytics&quot; menu option. Again, for information about what you can do with this tool and how, you may refer to <a href="https://github.com/aegisbigdata/documentation/wiki/Algorithm-Execution-Container">this guide</a>. Here you will need that hdfs path from step 5. Copy it and go ahead to try the tool!</li>
        <li>Go to the &quot;Metadata Designer&quot; menu option. From here you can add metadata to your data which are used for enhanced search and may also, under the hood, facilitate some data management processes. This part may seem a bit advanced, but keep in mind it&#39;s there. For now keep experimenting in steps 5-8 and you will gradually understand what metadata offer and you may even decide to contribute yourself! Take a look <a href="https://github.com/aegisbigdata/documentation/wiki/Data-Harvester-and-Annotator">here</a> when you are ready to know more! </li>
        </ol>
        <h2 id="part-2---advanced-options"><a class="header-link" href="#part-2---advanced-options"></a>Part 2 - Advanced options</h2>
        <p>Once you familiarise yourslef with the processes described in the first tour, you will understand how the related tools can be leveraged to enable and/or facilitate various data management and processing tasks. At the same time, you may realise some limitations and you may want to move on to more advanced operations. There are four menu options not included in the first part, that offer exactly these capabilities:</p>
        <ol class="list">
        <li>Jupyter menu option: This will open another window with Jupyter Notebook, i.e. an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and more (see also <a href="http://jupyter.org/">Jupyter website</a>. You have already seen Jupyter in the first tour, since Visualiser and Query Builder are built inside this notebook. We support the sparkmagic Jupyter kernel, which is used to run Spark applications.</li>
        <li>Zeppelin menu option: This will take you to Apache Zeppelin, which is also a web-based interactive notebook with support for various interpreters, including Spark and Angular. </li>
        <li>Jobs menu option: This will take you to the AEGIS UI that provides support for running Jobs. Jobs could be Spark applications or Spark workflows and they can be scheduled for periodic execution or run on-demand.  </li>
        <li>Kafka: This will take you to the Kafka management page. AEGIS supports Kafka-as-a-Service. Kafka topics (used as channels for producing/consuming messages) are private to projects and users can create a topic with just a few clicks. Topics can also be shared with other projects enabling real-time communication between projects.</li>
        </ol>
      </div>
    </div>
  </div>


  <!-- <div class="container content-wrapper" ng-if="!mainCtrl.showSearchPage" ng-controller="HomeCtrl as homeCtrl">
    <div class="row">
      <div class="col-md-12">
        <h1 style="margin-top: 40px; margin-bottom: 30px">Projects</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <a
          ng-click="homeCtrl.newProject()"
          class="home-project-container"
          style="background-color: #0492b3; color: #fff; padding: 28px 15px; text-align: center; margin-bottom: 25px; display: block; box-shadow: 1px 2px 7px 1px rgba(0, 0, 0, 0.1)"
        >
          <h4 class="home-project-container-title"><span class="fa fa-plus"></span> New Project</h4>
        </a>
      </div>
      <div class="col-sm-3" ng-repeat="project in homeCtrl.projects| filter: searchProject:false | startFrom:(homeCtrl.currentPageProjects - 1) * homeCtrl.pageSizeProjects | limitTo:homeCtrl.pageSizeProjects | orderBy: homeCtrl.sortBy">
        <a
          class="home-project-container"
          style="border-top: 4px solid #0492b3; padding: 15px; text-align: center; margin-bottom: 25px; display: block; box-shadow: 1px 2px 7px 1px rgba(0, 0, 0, 0.1)"
          href="#!/project/{{project.project.id}}"
          context-menu
          data-target="menu-{{$index}}"
          id="{{project.project.name.substr(0, 5) === 'demo_'}}"
          title="{{project.project.name.length > 28 ? project.project.name:''}}"
        >
          <h4 class="home-project-container-title">{{ project.project.name | limitTo: 18 }}{{project.project.name.length > 18 ? '...' : ''}}</h4>
          <div class="home-project-container-title">5 datasets</div>
        </a>
      </div>
    </div>
    <hr style="margin-bottom: 40px">
    <div class="row">
      <div class="col-md-4" style="text-align: center">
        <img src="https://i.pinimg.com/originals/9f/90/ab/9f90aba21e11b7b63e575785a2d4563c.png" height="130px">
        <h2 style=" margin-bottom: 20px">Getting Started</h2>
        <p>If you are new to AEGIS click here! Master the AEGIS platform in a simple 5 step tutorial!</p>
        <a href="#">&raquo; Learn more</a>
      </div>
      <div class="col-md-4" style="text-align: center">
        <img src="https://us.123rf.com/450wm/martialred/martialred1709/martialred170900039/85728240-online-shop-marktplatz-oder-e-commerce-shop-flache-vektor-symbol-fÃ¼r-apps-und-websites.jpg?ver=6" height="130px">
        <h2 style="margin-bottom: 20px">AEGIS Marketplace</h2>
        <p>See what's possible with AEGIS! Browse popular AEGIS datasets to use within your project</p>
        <a href="#">&raquo; Go to Marketplace</a>
      </div>
      <div class="col-md-4" style="text-align: center">
        <img src="https://img.evbuc.com/https%3A%2F%2Fcdn.evbuc.com%2Fimages%2F52230452%2F233567016891%2F1%2Foriginal.jpg?h=512&w=512&auto=compress&rect=0%2C0%2C800%2C400&s=aa46ba847eca4cc1beb9e6b79ccf6571" height="130px" style="padding-bottom: 10px">
        <h2 style="margin-bottom: 20px">What's New</h2>
        <p>October 2018 Report Published: An In-Depth Look at Big Data Trends and Challenges in Insurance</p>
        <a href="#">&raquo; Read more</a>
      </div>
    </div>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <div class="alert alert-warning alert-dismissable" ng-if="mainCtrl.userNotification !== ''">
      <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <p align="center"><i class="fa fa-bullhorn"></i> <strong>Notification!</strong> {{mainCtrl.userNotification}}
        <a class="alert-link" data-dismiss="alert" ng-click="mainCtrl.profileModal()" aria-label="Profile">Change now.</a>
      </p>
    </div>
    <div class="pull-left" id="toursBox">
      <div class="pull-left" style="min-width: 220px; max-width: 220px">
        <div class="list-group">
          <a href="" class="list-group-item active">Help</a>
          <a href=""
             ng-click="homeCtrl.showTours = !homeCtrl.showTours; homeCtrl.getTours();" class="list-group-item"
             ng-class="{'tour-highlight': homeCtrl.showGettingStarted()}">
            <span class="glyphicon" ng-class="{'glyphicon-triangle-right':!homeCtrl.showTours, 'glyphicon-triangle-bottom':homeCtrl.showTours}"></span>
            Tours

            <span class="glyphicon glyphicon-expand pull-right"></span>

            <div ng-show="homeCtrl.showTours" ng-init="homeCtrl.initCheckBox()" style="margin-top: 10px">
              <md-checkbox md-no-ink aria-label="Tour tips" class="md-primary"
                ng-model="homeCtrl.showTourTips" ng-change="homeCtrl.toggleTourTips()"
                ng-click="homeCtrl.showTours = !homeCtrl.showTours">
                        Tour tips
              </md-checkbox>
            </div>
            <div ng-show="homeCtrl.showTours" ng-repeat="tour in homeCtrl.tours">
              <button style="margin: 0px; padding-bottom: 5px; padding-top: 5px; padding-left: 0px; padding-right: 0px;" uib-popover="Take a tour of Hopsworks by creating a project and running a Spark job!"
                      type="button" class="btn btn-default btn-block" ng-click="homeCtrl.showTours = !homeCtrl.showTours; homeCtrl.createExampleProject(tour.name)">
                <span style="margin-right: 5px" class="glyphicon glyphicon-play-circle pull-right" ng-hide="isCreating(tour.name) === true"></span>
                <span style="margin-right: 5px" class="fa fa-spinner fa-spin pull-right" ng-hide="isCreating(tour.name) === false"></span>
                <span class="button-text">{{tour.name}}</span>
              </button>
            </div>

          </a>
          <a ng-if="isDelaEnabled" href="#!/delahopsDataset" class="list-group-item">
            <span class="fa fa-globe"></span>
            Hops Datasets</a>
          <a href="#!/delaclusterDataset" class="list-group-item">
            <span class="fa fa-server"></span>
            Cluster Datasets</a>
          <a href="https://groups.google.com/forum/#!forum/hopshadoop" class="list-group-item">
            <span class="glyphicon glyphicon-user"></span>
            Need support?
            <span class="glyphicon glyphicon-earphone pull-right" style="margin-right: 1px;"></span>
          </a>
            </div>
        </div>
    </div>
    <div class="pull-right">
      <div class="pull-left" style="min-width: 330px; max-width: 330px">
        <span class="list-group-item active">
          <span class="badge pull-left" style="margin-right: 10px;">{{homeCtrl.projects.length}}</span> Projects

          <button class="btn btn-success pull-right" id="buttonCreateProject"
                  style="height: 43px;margin-right: -16px;margin-top: -11px;width: 70px; border-radius: 0px;"
                  ng-click="homeCtrl.newProject()">
            <i class="fa fa-plus-circle fa-lg"></i>
            <span style="margin-left:3px;">New</span>
          </button>

        </span>
        <div class="list-group-item" style="background-color: #f5f5f5;">
          <div class="input-group">
            <div class="input-group-btn">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
                <span id="search_concept">Sort by</span>
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="" ng-click="homeCtrl.sortBy='-project.name'"><i class="pull-right fa fa-sort-alpha-desc text-muted" aria-hidden="true"></i>Name Desc</a></li>
                <li><a class="dropdown-item" href="" ng-click="homeCtrl.sortBy='project.name'"><i class="pull-right fa fa-sort-alpha-asc text-muted" aria-hidden="true"></i>Name Asc</a></li>
                <li><a class="dropdown-item" href="" ng-click="homeCtrl.sortBy='project.created'"><i class="pull-right fa fa-sort-numeric-desc text-muted" aria-hidden="true"></i>Created Desc</a></li>
                <li><a class="dropdown-item" href="" ng-click="homeCtrl.sortBy='-project.created'"><i class="pull-right fa fa-sort-numeric-asc text-muted" aria-hidden="true"></i>Created Asc</a></li>
              </ul>
            </div>
            <input type="hidden" name="search_param" value="all" id="search_param">
            <input type="text" class="form-control pull-left" ng-model="searchProject"  name="x" placeholder="Find project...">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" style="height:34px;">
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </span>
          </div>
        </div>
        
        <div ng-repeat="project in homeCtrl.projects| filter: searchProject:false | startFrom:(homeCtrl.currentPageProjects - 1) * homeCtrl.pageSizeProjects | limitTo:homeCtrl.pageSizeProjects | orderBy: homeCtrl.sortBy">
          <a ng-class="{disabled: project.project.archived, disabled: homeCtrl.working[project.project.id]}"
             href="#!/project/{{project.project.id}}"
             class="list-group-item"
             context-menu
             data-target="menu-{{$index}}"
             id="{{project.project.name.substr(0, 5) === 'demo_'}}"
             title="{{project.project.name.length > 28 ? project.project.name:''}}">
            <div ng-if="project.teamRole === 'Data scientist'">
              <i style="width: 20px; margin-right: 10px; font-size: 20px;" class="fa fa-lock fa-2 pull-left"></i>
            </div>
            <div ng-if="project.teamRole === 'Data owner'">
              <i style="width: 20px; margin-right: 10px; font-size: 20px;" class="fa fa-unlock fa-2 pull-left"></i>
            </div>
            <div ng-if="project.project.archived">
              <i style="width: 20px; margin-right: 10px; font-size: 20px; color: #9d261d"
                 class="fa fa-ban fa-2 pull-left"></i>
            </div>
            {{ project.project.name | limitTo: 28 }}{{project.project.name.length > 28 ? '...' : ''}}
            <span ng-if="project.project.name.substr(0, 5) === 'demo_'" class="glyphicon glyphicon-play-circle pull-right" style="margin-top: 5px;"></span>
            <i class="fa fa-cog fa-spin fa-2x  fa-fw pull-right" ng-show="homeCtrl.working[project.project.id]"></i>
          </a>
          <div uib-dropdown class="dropdown position-fixed" id="menu-{{$index}}">
            <ul uib-dropdown-menu class="dropdown-amore">
              <!--            <li>
                            <a class="pointer"
                               role="menuitem"
                               tabindex="1"
                               ng-click="">
                              <span><i class="fa fa-share-alt"></i>
                                Share...</span>
                            </a>
                          </li>--
              <li>
                <a class="pointer"
                   role="menuitem"
                   tabindex="2"
                   ng-click="homeCtrl.deleteProjectAndDatasets(project.project.id)">
                  <span><i class="fa fa-trash"></i>
                    Remove and delete DataSets </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <ul uib-pager total-items="homeCtrl.totalItemsProjects" ng-model="homeCtrl.currentPageProjects" ></ul>
    </div>
  </div> -->
  <tour class="ng-scope" step="homeCtrl.tourService.currentStep_TourOne" post-tour="closeTour()" ng-if="homeCtrl.loadedView">
    <virtual-step
      class="ng-scope"
      tourtip="Begin the tour by clicking Next, OR when {{homeCtrl.tourService.alive_TourOne}} seconds passed, click on the project"
      tourtip-step="0"
      tourtip-element="#true.list-group-item"
      tourtip-placement="left"
      tourtip-next-label="Next"
      on-proceed="homeCtrl.EnterExampleProject(homeCtrl.exampleProjectID)"
      tourtip-offset-vertical="-17"
      tourtip-offset-horizontal="13"
      ></virtual-step>
  </tour>

  <tour class="ng-scope" step="homeCtrl.tourService.toursInfoStep"
        post-tour="closeTour()"
        ng-if="homeCtrl.loadedView
          && (homeCtrl.tourService.informAndTips
            || homeCtrl.tourService.informOnly)">
    <virtual-step
            class="ng-scope"
            tourtip="Follow our guided tours"
            tourtip-step="0"
            tourtip-element="#toursBox"
            tourtip-placement="right"
            tourtip-next-label="Got it!"
            on-proceed="homeCtrl.disableInformBalloon()"
            tourtip-offset-horizontal="50"
    ></virtual-step>
  </tour>
</div>
